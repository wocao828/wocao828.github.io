<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="yes" name="apple-touch-fullscreen"><meta content="telephone=no,email=no" name="format-detection"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><script src="https://use.fontawesome.com/adaf0e149c.js"></script><link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.6.0/styles/monokai_sublime.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="/css/markdown-github.css"><title>zhang's blog</title><script src="/js/googleAnalytics.js"></script></head><body><div id="postContainer"><div id="postTop"><h4 id="logo">Life Is Short</h4><br><br><h2 id="postTitle">php基础学习</h2><br><span aria-hidden="true" class="postTime fa fa-calendar">2018-12-16</span><br><br></div><section id="articleDiv"><p>前言:经过一周的php学习，今天对php知识进行总结.</p><br><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>命令规则：不能以数字开头，只能a-z,A-Z，0-9，_。名字区分大小写</p><br><h3 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h3><p>布尔型  $a =true  false  不区分大小写</p><br><p>整型</p><br><p>浮点型</p><br><p>字符串  null “” ‘’（‘括起来的内容不会解释’“括起来的会解释”）</p><br><p>资源型   $h =fopen(‘a.php’,’r’);</p><br><p>数组     $i = [‘zs’,18,’a’];</p><br><p>对象        class presion{<br>                    $name = ‘zs’;<br>                    $age=18;}<br>                    $j = new persion(); //由class创建，j打开的成为对象</p><br><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><pre><code>echo (123);<br><br>print (123);<br><br>printf 123;<br><br>sprintf 123;<br><br>print_r (123);<br><br>var_dump (123);<br><br>die  (&apos;123&apos;);<br><br>exit  (&apos;123&apos;);<br></code></pre><h3 id="表单处理-超全局变量"><a href="#表单处理-超全局变量" class="headerlink" title="表单处理(超全局变量)"></a>表单处理(超全局变量)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$_POST</span><br><span class="line"></span><br><span class="line">$_GET</span><br><span class="line"></span><br><span class="line">$_SERVER</span><br><span class="line"></span><br><span class="line">$_REQUEST</span><br></pre></td></tr></table></figure><br><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><p>加+ 减- 乘<em> 除 取余% 取值/ 拼接.</em></p><br><h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><p>赋值 += -=  = %= /= .=</p><br><h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><p>大于小于等于</p><br><h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><p>and &amp;&amp; or || not !</p><br><h4 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h4><p>条件? true:false</p><br><h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><pre><code>1.拼接字符串<br> $a =&quot;hello&quot;;$b=&quot;wang&quot;;$c=&quot;!&quot;;$d=$a.$b.$c;<br>    echo $d;<br><br>2.字符串长度：strlen<br>    $a =&quot;hello&quot;;$b=&quot;wang&quot;;$c=&quot;!&quot;;$d=$a.$b.$c;<br>    echo $d;<br>    $len=strlen($d);<br>    echo &quot;$d的长度是 $len&quot;<br><br>3.计算中文字符长度:mb_strlen<br>    echo &quot;$d的长度是 $len&quot;;<br>    $a=&quot;你好&quot;;$b=&quot;王&quot;;<br>    echo mb_strlen($a.$b);  //结果9<br><br>4.addslashes()   把字符串中的符号转义（防止注入）<br>    $str=&quot;Hello &apos;wang&apos;&quot;;    常用四种（null \ &apos;&apos;&quot;&quot;）<br>    $str1=addslashes($str);<br>    echo &quot;处理后的内容是 $str1&quot;;<br><br>5.bin2hax 字符串转换16进制<br>    $str=&quot;Hello &apos;wang&apos;&quot;;<br>    echo bin2hex($str);<br><br>6.chop（）移除右侧空白或指定字符 一般用trim（）<br>    $str=&quot;Hello &apos;wang&apos;  &quot;<br>    echo trim($str,&apos;o&apos;);<br><br>7.chr（）把十六进制转换成字符    ASCII码对照表<br>    $aa=0x97;<br>    echo chr($aa);<br><br>8.md5 加密    唯一的加密值hash<br>    $str=&apos;admin&apos;;<br>    echo md5($str);<br>        md5_file(&quot;文件名&quot;)把文件转换成md5<br><br>9.htmlentities 转义成html实体编码<br>    例如 &amp;lt —转成 &lt;  &amp;rt—转成 &gt;<br>     $str=&quot;&lt;script&gt;alert(/xss/)&lt;/script&gt;&quot;;<br>    echo htmlentities($str);<br><br>10.explode   用指定字符分割字符串<br><br>11.str_replace()替换/删除关键字<br>     $old=&apos;att&apos;;<br>   echo str_replace(&apos;att&apos;,&apos;love&apos;,$old);<br><br>12.str_split 分隔函数，变成数组一一对应<br>     $str=&quot;hello&quot;;<br>    var_dump(str_split($str));<br><br>13.strcmp 比较两个字符串    //非0即不相等 0即相等<br>    $a=&apos;ad&apos;;$b=&apos;ac&apos;;echo&quot;&lt;br/&gt;&quot;;echo&quot;&lt;br/&gt;&quot;;<br>    echo strcmp($a,$b);        //结果是1<br><br>14.strstr  查找字符串首次出现位置<br>    $a=&apos;afhafnafanfkfaf&apos;;<br>    echo strstr(asfasflanf,s);//结果sfasflanf<br></code></pre><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>强制转换<br>        （int）$var 字符串转成整形<br>        $d=”123aaa;<br>        echo (int)$d;    //123</p><br><pre><code>$b=123;<br>$c=3.14;<br>echo (int)$d;    //3<br>（string）$var<br>echo (string)$b  //123<br>(float)$var<br></code></pre><p>具体类型函数转换<br>        intval()<br>        floatval()<br>        stringval()</p><br><h3 id="条件控制"><a href="#条件控制" class="headerlink" title="条件控制"></a>条件控制</h3><h4 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h4><pre><code>if语句<br>switch 语句<br></code></pre><h4 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h4><pre><code>for循环<br>while循环<br></code></pre><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组分类：关联数组和索引数组</p><br><p>数组可以放任何类型的数据</p><br><p>数组长度计算sizeof()</p><br><p>数组中元素的排序sort($arr)</p><br><p>数组的输出for循环或foreach()</p><br><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>类,对象,成员变量,成员函数,继承,构造函数 ,析构函数</p><br><h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><p>fread()函数读取打开的文件</p><br><p>fwrite（）函数写入一个打开的文件</p><br><p>unlink（）函数删除文件</p><br><p>is_dir检查文件是否是目录</p><br><p>is_file()检查是否常规文件</p><br><p>file_exists（）检查文件是否存在</p><br><p>copy（）复制文件</p><br><p>rename（）重命名文件或目录</p><br><p>file_get_contents(文件名)  读取整个文件内容，<strong><em>打开远程文件</em></strong></p><br><p>php://filter file_get_contents()</p><br><h3 id="文件打开方式"><a href="#文件打开方式" class="headerlink" title="文件打开方式"></a>文件打开方式</h3><p>r    只读，在开头开始</p><br><p>r+    读写，在开头开始</p><br><p>w    只写，清空内容，如果不存在创建新文件</p><br><p>w+    读写，清空文件，不存在则创建新文件</p><br><p>a    追加    在末尾进行写操作，可以创建新文件</p><br><p>a+    读或追加    末尾写内容</p><br><p>x    只写（新建）</p><br><p>x+    读写（新建）</p><br><h3 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h3><p>include(‘文件名’)    require(‘文件名’)</p><br><h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><p>setcookie(‘user’,’admin’，time()+3600)设置一个cookie</p><br><p>$_COOKIE[‘user’]获取一个cookie</p><br><p>如何放置cookie伪造？</p><br><p>setcookie(‘id’,’’,time()-1)清空COOKIE</p><br><h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><p>session_start()启动session功能</p><br><h3 id="php与mysql连接"><a href="#php与mysql连接" class="headerlink" title="php与mysql连接"></a>php与mysql连接</h3><p>(1)使用mysqli连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">mysqli_connect(&quot;IP&quot;,&quot;name&quot;,&quot;password&quot;);  //连接数据库</span><br><span class="line">mysqli_select_db();</span><br><span class="line">&lt;?php</span><br><span class="line">$dbhost = &apos;localhost:3306&apos;;  // mysql服务器主机地址</span><br><span class="line">$dbuser = &apos;root&apos;;            // mysql用户名</span><br><span class="line">$dbpass = &apos;123456&apos;;          // mysql用户名密码</span><br><span class="line">$conn = mysqli_connect($dbhost, $dbuser, $dbpass);</span><br><span class="line">if(! $conn )</span><br><span class="line">&#123;</span><br><span class="line">    die(&apos;连接失败: &apos; . mysqli_error($conn));</span><br><span class="line">&#125;</span><br><span class="line">// 设置编码，防止中文乱码</span><br><span class="line">mysqli_query($conn , &quot;set names utf8&quot;);</span><br><span class="line"> </span><br><span class="line">$sql = &apos;SELECT runoob_id, runoob_title, </span><br><span class="line">        runoob_author, submission_date</span><br><span class="line">        FROM runoob_tbl&apos;;</span><br><span class="line"> </span><br><span class="line">mysqli_select_db( $conn, &apos;RUNOOB&apos; );</span><br><span class="line">$retval = mysqli_query( $conn, $sql );</span><br><span class="line">if(! $retval )</span><br><span class="line">&#123;</span><br><span class="line">    die(&apos;无法读取数据: &apos; . mysqli_error($conn));</span><br><span class="line">&#125;</span><br><span class="line">echo &apos;&lt;h2&gt;菜鸟教程 mysqli_fetch_array 测试&lt;h2&gt;&apos;;</span><br><span class="line">echo &apos;&lt;table border=&quot;1&quot;&gt;&lt;tr&gt;&lt;td&gt;教程 ID&lt;/td&gt;&lt;td&gt;标题&lt;/td&gt;&lt;td&gt;作者&lt;/td&gt;&lt;td&gt;提交日期&lt;/td&gt;&lt;/tr&gt;&apos;;</span><br><span class="line">while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC))</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;&lt;tr&gt;&lt;td&gt; &#123;$row[&apos;runoob_id&apos;]&#125;&lt;/td&gt; &quot;.</span><br><span class="line">         &quot;&lt;td&gt;&#123;$row[&apos;runoob_title&apos;]&#125; &lt;/td&gt; &quot;.</span><br><span class="line">         &quot;&lt;td&gt;&#123;$row[&apos;runoob_author&apos;]&#125; &lt;/td&gt; &quot;.</span><br><span class="line">         &quot;&lt;td&gt;&#123;$row[&apos;submission_date&apos;]&#125; &lt;/td&gt; &quot;.</span><br><span class="line">         &quot;&lt;/tr&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo &apos;&lt;/table&gt;&apos;;</span><br><span class="line">mysqli_close($conn);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><br><p>(2)使用mysql扩展(php&lt;=5.5)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$mysql_conf = array(</span><br><span class="line">    &apos;host&apos;    =&gt; &apos;127.0.0.1:3306&apos;, </span><br><span class="line">    &apos;db&apos;      =&gt; &apos;test&apos;, </span><br><span class="line">    &apos;db_user&apos; =&gt; &apos;root&apos;, </span><br><span class="line">    &apos;db_pwd&apos;  =&gt; &apos;root&apos;, </span><br><span class="line">    );</span><br><span class="line">$mysql_conn = @mysql_connect($mysql_conf[&apos;host&apos;], $mysql_conf[&apos;db_user&apos;], $mysql_conf[&apos;db_pwd&apos;]);</span><br><span class="line">if (!$mysql_conn) &#123;</span><br><span class="line">    die(&quot;could not connect to the database:\n&quot; . mysql_error());//诊断连接错误</span><br><span class="line">&#125;</span><br><span class="line">mysql_query(&quot;set names &apos;utf8&apos;&quot;);//编码转化</span><br><span class="line">$select_db = mysql_select_db($mysql_conf[&apos;db&apos;]);//选择数据库</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if (!$select_db) &#123;</span><br><span class="line">    die(&quot;could not connect to the db:\n&quot; .  mysql_error());</span><br><span class="line">&#125;</span><br><span class="line">$sql = &quot;select * from user;&quot;;</span><br><span class="line">$res = mysql_query($sql);</span><br><span class="line">if (!$res) &#123;</span><br><span class="line">    die(&quot;could get the res:\n&quot; . mysql_error());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">while ($row = mysql_fetch_assoc($res)) &#123;</span><br><span class="line">    print_r($row);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql_close($mysql_conn);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><br><p>(3)使用pdo技术(防止sql注入)<br>    面向对象的方式</p>
</section></div><script src="/js/jquery.min.js"></script><script src="/js/highlight.min.js"></script><script src="/js/start.js"></script></body></html>